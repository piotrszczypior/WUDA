FROM python:3.13.9

WORKDIR /app

COPY requirements.txt requirements_test.txt .

RUN pip install --no-cache-dir -r requirements.txt && \
    pip install --no-cache-dir -r requirements_test.txt

COPY . .

ENV BACKEND_HOSTNAME=localhost \
    BACKEND_PORT=5000 \
    APP_PORT=8000 \
    APP_HOST=0.0.0.0 \
    SECRET_KEY=test-secret-key-for-testing \
    PYTHONPATH=/app

CMD ["pytest"]